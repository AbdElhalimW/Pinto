!function(a){"use strict";function b(a){this.init(a)}b.prototype={itemSelector:"> div",itemWidth:220,marginX:10,marginY:10,align:"left",fitWidth:!0,animate:!0,autoResize:!0,resizeDelay:50,constructor:b,el:null,resizeTimer:null,init:function(b){a.extend(this,b),this.initWidget(),this.layout()},initWidget:function(){if(0!=this.el.length&&("relative"!=this.el.css("position")&&this.el.css("position","relative"),this.autoResize)){var b=a(window).on("resize",a.proxy(this.resize,this));this.el.on("remove",b.unbind)}},getSmallestIndex:function(a){for(var b=0,c=1,d=a.length;d>c;c++)a[c]<a[b]&&(b=c);return b},layout:function(){if(0!=this.el.length&&this.el.is(":visible")){for(var b=this,c=this.animate?"top 0.5s, left 0.5s":"none",d=this.el.find(this.itemSelector),e=this.el.innerWidth(),f=parseInt(this.marginX||0),g=parseInt(this.marginY||0),h=this.itemWidth,i=Math.max(Math.floor(e/(h+f)),1),j=[],k=i;k--;)j.push(0);var l=0;this.fitWidth?h+=Math.floor(.5+(e-i*(h+f))/i):"center"===this.align?l+=Math.floor(.5+(e-i*(h+f))>>1):"right"===this.align&&(l+=Math.floor(.5+e-i*(h+f))),d.each(function(d,e){var i=a(e),k=b.getSmallestIndex(j);i.css({position:"absolute",top:j[k]+g/2+"px",left:(h+f)*k+l+"px",width:h,margin:g/2+"px "+f/2+"px",transition:c}),j[k]+=i.innerHeight()+g});var m=0;for(k=i;k--;)j[k]>m&&(m=j[k]);this.el.css({height:m})}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(a.proxy(this.layout,this),this.resizeDelay)}},a.pinto={defaults:b.prototype},a.fn.pinto=function(c,d){var e="pinto";this.data(e);return this.each(function(){var d=a(this),f=d.data(e),g=a.isPlainObject(c)?c:{};if(f)f.init(g);else{var h=a.extend({},d.data());g=a.extend(h,g),g.el=d,f=new b(g),d.data(e,f)}})}}(window.jQuery);