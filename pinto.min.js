(function(m){var r={itemSelector:"> div",itemWidth:220,marginX:10,marginY:10,align:"left",fitWidth:!0,animate:!0,autoResize:!0,resizeDelay:50};m.fn.pinto=function(e){var f=m(this),a=m.extend(r,e);f.css("position","relative");var l=function(){if(f.is(":visible")){for(var e=a.animate?"top 0.5s, left 0.5s":"none",l=f.find(a.itemSelector),b=f.innerWidth(),k=parseInt(a.marginX||0),q=parseInt(a.marginY||0),c=a.itemWidth,d=Math.max(Math.floor(b/(c+k)),1),g=[],p=d;p--;)g.push(0);var n=0;a.fitWidth?c+=Math.floor(.5+
(b-d*(c+k))/d):"center"===a.align?n+=Math.floor(.5+(b-d*(c+k))>>1):"right"===a.align&&(n+=Math.floor(.5+b-d*(c+k)));l.each(function(a,f){var d=m(f),h;h=0;for(var b=1,l=g.length;b<l;b++)g[b]<g[h]&&(h=b);d.css({position:"absolute",top:g[h]+q/2+"px",left:(c+k)*h+n+"px",width:c,margin:q/2+"px "+k/2+"px",transition:e});g[h]+=d.innerHeight()+q})}},p=null;e=function(){clearTimeout(p);p=setTimeout(l,a.resizeDelay)};l();a.autoResize&&(e=m(window).on("resize",e),f.on("remove",e.unbind))}})(window.jQuery);